#' REST API
#'
#' No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)
#'
#' The version of the OpenAPI document: v1
#' Contact: support@apibricks.io
#' Generated by: https://openapi-generator.tech
#'
#' @docType class
#' @title Quotes operations
#' @description QuotesApi
#' @format An \code{R6Class} generator object
#' @field api_client Handles the client-server communication.
#'
#' @examples
#' \dontrun{
#' ####################  V1QuotesCurrentGet  ####################
#'
#' library(openapi)
#' var_filter_symbol_id <- "filter_symbol_id_example" # character | Comma or semicolon delimited parts of symbol identifier used to filter response. (optional) (Optional)
#'
#' #Current data
#' api_instance <- QuotesApi$new()
#'
#' # Configure API key authorization: ApiKey
#' api_instance$api_client$api_keys["X-CoinAPI-Key"] <- Sys.getenv("API_KEY")
#'
#' # to save the result into a file, simply add the optional `data_file` parameter, e.g.
#' # result <- api_instance$V1QuotesCurrentGet(filter_symbol_id = var_filter_symbol_iddata_file = "result.txt")
#' result <- api_instance$V1QuotesCurrentGet(filter_symbol_id = var_filter_symbol_id)
#' dput(result)
#'
#'
#' ####################  V1QuotesLatestGet  ####################
#'
#' library(openapi)
#' var_filter_symbol_id <- "filter_symbol_id_example" # character | Comma or semicolon delimited parts of symbol identifier used to filter response. (optional) (Optional)
#' var_limit <- 100 # integer | Amount of items to return (optional, mininum is 1, maximum is 100000, default value is 100, if the parameter is used then every 100 output items are counted as one request) (Optional)
#'
#' #Latest data
#' api_instance <- QuotesApi$new()
#'
#' # Configure API key authorization: ApiKey
#' api_instance$api_client$api_keys["X-CoinAPI-Key"] <- Sys.getenv("API_KEY")
#'
#' # to save the result into a file, simply add the optional `data_file` parameter, e.g.
#' # result <- api_instance$V1QuotesLatestGet(filter_symbol_id = var_filter_symbol_id, limit = var_limitdata_file = "result.txt")
#' result <- api_instance$V1QuotesLatestGet(filter_symbol_id = var_filter_symbol_id, limit = var_limit)
#' dput(result)
#'
#'
#' ####################  V1QuotesSymbolIdCurrentGet  ####################
#'
#' library(openapi)
#' var_symbol_id <- "symbol_id_example" # character | The symbol identifier (from the Metadata -> Symbols)
#'
#' #Current quotes for a specific symbol
#' api_instance <- QuotesApi$new()
#'
#' # Configure API key authorization: ApiKey
#' api_instance$api_client$api_keys["X-CoinAPI-Key"] <- Sys.getenv("API_KEY")
#'
#' # to save the result into a file, simply add the optional `data_file` parameter, e.g.
#' # result <- api_instance$V1QuotesSymbolIdCurrentGet(var_symbol_iddata_file = "result.txt")
#' result <- api_instance$V1QuotesSymbolIdCurrentGet(var_symbol_id)
#' dput(result)
#'
#'
#' ####################  V1QuotesSymbolIdHistoryGet  ####################
#'
#' library(openapi)
#' var_symbol_id <- "symbol_id_example" # character | Symbol identifier for requested timeseries (from the Metadata -> Symbols)
#' var_date <- "date_example" # character | Date in ISO 8601, returned data is for the whole given day (preferred method, required if 'time_start' is not provided) (Optional)
#' var_time_start <- "time_start_example" # character | Starting time in ISO 8601 (Optional)
#' var_time_end <- "time_end_example" # character | Timeseries ending time in ISO 8601 (Optional)
#' var_limit <- 100 # integer | Amount of items to return (optional, minimum is 1, maximum is 100000, default value is 100, if the parameter is used then every 100 output items are counted as one request) (Optional)
#'
#' #Historical data
#' api_instance <- QuotesApi$new()
#'
#' # Configure API key authorization: ApiKey
#' api_instance$api_client$api_keys["X-CoinAPI-Key"] <- Sys.getenv("API_KEY")
#'
#' # to save the result into a file, simply add the optional `data_file` parameter, e.g.
#' # result <- api_instance$V1QuotesSymbolIdHistoryGet(var_symbol_id, date = var_date, time_start = var_time_start, time_end = var_time_end, limit = var_limitdata_file = "result.txt")
#' result <- api_instance$V1QuotesSymbolIdHistoryGet(var_symbol_id, date = var_date, time_start = var_time_start, time_end = var_time_end, limit = var_limit)
#' dput(result)
#'
#'
#' ####################  V1QuotesSymbolIdLatestGet  ####################
#'
#' library(openapi)
#' var_symbol_id <- "symbol_id_example" # character | Symbol identifier of requested timeseries (from the Metadata -> Symbols)
#' var_limit <- 100 # integer | Amount of items to return (optional, mininum is 1, maximum is 100000, default value is 100, if the parameter is used then every 100 output items are counted as one request) (Optional)
#'
#' #Latest quote updates for a specific symbol
#' api_instance <- QuotesApi$new()
#'
#' # Configure API key authorization: ApiKey
#' api_instance$api_client$api_keys["X-CoinAPI-Key"] <- Sys.getenv("API_KEY")
#'
#' # to save the result into a file, simply add the optional `data_file` parameter, e.g.
#' # result <- api_instance$V1QuotesSymbolIdLatestGet(var_symbol_id, limit = var_limitdata_file = "result.txt")
#' result <- api_instance$V1QuotesSymbolIdLatestGet(var_symbol_id, limit = var_limit)
#' dput(result)
#'
#'
#' }
#' @importFrom R6 R6Class
#' @importFrom base64enc base64encode
#' @export
QuotesApi <- R6::R6Class(
  "QuotesApi",
  public = list(
    api_client = NULL,

    #' @description
    #' Initialize a new QuotesApi.
    #'
    #' @param api_client An instance of API client.
    initialize = function(api_client) {
      if (!missing(api_client)) {
        self$api_client <- api_client
      } else {
        self$api_client <- ApiClient$new()
      }
    },

    #' @description
    #' Current data
    #'
    #' @param filter_symbol_id (optional) Comma or semicolon delimited parts of symbol identifier used to filter response. (optional)
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #'
    #' @return array[V1QuoteTrade]
    V1QuotesCurrentGet = function(filter_symbol_id = NULL, data_file = NULL, ...) {
      local_var_response <- self$V1QuotesCurrentGetWithHttpInfo(filter_symbol_id, data_file = data_file, ...)
      if (local_var_response$status_code >= 200 && local_var_response$status_code <= 299) {
        return(local_var_response$content)
      } else if (local_var_response$status_code >= 300 && local_var_response$status_code <= 399) {
        return(local_var_response)
      } else if (local_var_response$status_code >= 400 && local_var_response$status_code <= 499) {
        return(local_var_response)
      } else if (local_var_response$status_code >= 500 && local_var_response$status_code <= 599) {
        return(local_var_response)
      }
    },

    #' @description
    #' Current data
    #'
    #' @param filter_symbol_id (optional) Comma or semicolon delimited parts of symbol identifier used to filter response. (optional)
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #'
    #' @return API response (array[V1QuoteTrade]) with additional information such as HTTP status code, headers
    V1QuotesCurrentGetWithHttpInfo = function(filter_symbol_id = NULL, data_file = NULL, ...) {
      args <- list(...)
      query_params <- list()
      header_params <- c()
      form_params <- list()
      file_params <- list()
      local_var_body <- NULL
      oauth_scopes <- NULL
      is_oauth <- FALSE


      query_params[["filter_symbol_id"]] <- `filter_symbol_id`

      local_var_url_path <- "/v1/quotes/current"
      # API key authentication
      if ("X-CoinAPI-Key" %in% names(self$api_client$api_keys) && nchar(self$api_client$api_keys["X-CoinAPI-Key"]) > 0) {
        header_params["X-CoinAPI-Key"] <- paste(unlist(self$api_client$api_keys["X-CoinAPI-Key"]), collapse = "")
      }

      # The Accept request HTTP header
      local_var_accepts <- list("text/plain", "application/json", "text/json", "application/x-msgpack")

      # The Content-Type representation header
      local_var_content_types <- list()

      local_var_resp <- self$api_client$CallApi(url = paste0(self$api_client$base_path, local_var_url_path),
                                 method = "GET",
                                 query_params = query_params,
                                 header_params = header_params,
                                 form_params = form_params,
                                 file_params = file_params,
                                 accepts = local_var_accepts,
                                 content_types = local_var_content_types,
                                 body = local_var_body,
                                 is_oauth = is_oauth,
                                 oauth_scopes = oauth_scopes,
                                 ...)

      if (local_var_resp$status_code >= 200 && local_var_resp$status_code <= 299) {
        # save response in a file
        if (!is.null(data_file)) {
          self$api_client$WriteFile(local_var_resp, data_file)
        }

        deserialized_resp_obj <- tryCatch(
          self$api_client$DeserializeResponse(local_var_resp, "array[V1QuoteTrade]"),
          error = function(e) {
            stop("Failed to deserialize response")
          }
        )
        local_var_resp$content <- deserialized_resp_obj
        return(local_var_resp)
      } 
      
      local_var_error_msg <- local_var_resp$response_as_text()      
      if (local_var_resp$status_code >= 300 && local_var_resp$status_code <= 399) {
        ApiResponse$new(paste("Server returned ", local_var_resp$status_code, " response status code."), local_var_resp)
      } else if (local_var_resp$status_code >= 400 && local_var_resp$status_code <= 499) {
        ApiResponse$new("API client error", local_var_resp)
      } else if (local_var_resp$status_code >= 500 && local_var_resp$status_code <= 599) {
        if (is.null(local_var_resp$response) || local_var_resp$response == "") {
          local_var_resp$response <- "API server error"
        }
        return(local_var_resp)
      }
    },

    #' @description
    #' Latest data
    #'
    #' @param filter_symbol_id (optional) Comma or semicolon delimited parts of symbol identifier used to filter response. (optional)
    #' @param limit (optional) Amount of items to return (optional, mininum is 1, maximum is 100000, default value is 100, if the parameter is used then every 100 output items are counted as one request) (default value: 100)
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #'
    #' @return array[V1Quote]
    V1QuotesLatestGet = function(filter_symbol_id = NULL, limit = 100, data_file = NULL, ...) {
      local_var_response <- self$V1QuotesLatestGetWithHttpInfo(filter_symbol_id, limit, data_file = data_file, ...)
      if (local_var_response$status_code >= 200 && local_var_response$status_code <= 299) {
        return(local_var_response$content)
      } else if (local_var_response$status_code >= 300 && local_var_response$status_code <= 399) {
        return(local_var_response)
      } else if (local_var_response$status_code >= 400 && local_var_response$status_code <= 499) {
        return(local_var_response)
      } else if (local_var_response$status_code >= 500 && local_var_response$status_code <= 599) {
        return(local_var_response)
      }
    },

    #' @description
    #' Latest data
    #'
    #' @param filter_symbol_id (optional) Comma or semicolon delimited parts of symbol identifier used to filter response. (optional)
    #' @param limit (optional) Amount of items to return (optional, mininum is 1, maximum is 100000, default value is 100, if the parameter is used then every 100 output items are counted as one request) (default value: 100)
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #'
    #' @return API response (array[V1Quote]) with additional information such as HTTP status code, headers
    V1QuotesLatestGetWithHttpInfo = function(filter_symbol_id = NULL, limit = 100, data_file = NULL, ...) {
      args <- list(...)
      query_params <- list()
      header_params <- c()
      form_params <- list()
      file_params <- list()
      local_var_body <- NULL
      oauth_scopes <- NULL
      is_oauth <- FALSE



      query_params[["filter_symbol_id"]] <- `filter_symbol_id`

      query_params[["limit"]] <- `limit`

      local_var_url_path <- "/v1/quotes/latest"
      # API key authentication
      if ("X-CoinAPI-Key" %in% names(self$api_client$api_keys) && nchar(self$api_client$api_keys["X-CoinAPI-Key"]) > 0) {
        header_params["X-CoinAPI-Key"] <- paste(unlist(self$api_client$api_keys["X-CoinAPI-Key"]), collapse = "")
      }

      # The Accept request HTTP header
      local_var_accepts <- list("text/plain", "application/json", "text/json", "application/x-msgpack")

      # The Content-Type representation header
      local_var_content_types <- list()

      local_var_resp <- self$api_client$CallApi(url = paste0(self$api_client$base_path, local_var_url_path),
                                 method = "GET",
                                 query_params = query_params,
                                 header_params = header_params,
                                 form_params = form_params,
                                 file_params = file_params,
                                 accepts = local_var_accepts,
                                 content_types = local_var_content_types,
                                 body = local_var_body,
                                 is_oauth = is_oauth,
                                 oauth_scopes = oauth_scopes,
                                 ...)

      if (local_var_resp$status_code >= 200 && local_var_resp$status_code <= 299) {
        # save response in a file
        if (!is.null(data_file)) {
          self$api_client$WriteFile(local_var_resp, data_file)
        }

        deserialized_resp_obj <- tryCatch(
          self$api_client$DeserializeResponse(local_var_resp, "array[V1Quote]"),
          error = function(e) {
            stop("Failed to deserialize response")
          }
        )
        local_var_resp$content <- deserialized_resp_obj
        return(local_var_resp)
      } 
      
      local_var_error_msg <- local_var_resp$response_as_text()      
      if (local_var_resp$status_code >= 300 && local_var_resp$status_code <= 399) {
        ApiResponse$new(paste("Server returned ", local_var_resp$status_code, " response status code."), local_var_resp)
      } else if (local_var_resp$status_code >= 400 && local_var_resp$status_code <= 499) {
        ApiResponse$new("API client error", local_var_resp)
      } else if (local_var_resp$status_code >= 500 && local_var_resp$status_code <= 599) {
        if (is.null(local_var_resp$response) || local_var_resp$response == "") {
          local_var_resp$response <- "API server error"
        }
        return(local_var_resp)
      }
    },

    #' @description
    #' Current quotes for a specific symbol
    #'
    #' @param symbol_id The symbol identifier (from the Metadata -> Symbols)
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #'
    #' @return V1QuoteTrade
    V1QuotesSymbolIdCurrentGet = function(symbol_id, data_file = NULL, ...) {
      local_var_response <- self$V1QuotesSymbolIdCurrentGetWithHttpInfo(symbol_id, data_file = data_file, ...)
      if (local_var_response$status_code >= 200 && local_var_response$status_code <= 299) {
        return(local_var_response$content)
      } else if (local_var_response$status_code >= 300 && local_var_response$status_code <= 399) {
        return(local_var_response)
      } else if (local_var_response$status_code >= 400 && local_var_response$status_code <= 499) {
        return(local_var_response)
      } else if (local_var_response$status_code >= 500 && local_var_response$status_code <= 599) {
        return(local_var_response)
      }
    },

    #' @description
    #' Current quotes for a specific symbol
    #'
    #' @param symbol_id The symbol identifier (from the Metadata -> Symbols)
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #'
    #' @return API response (V1QuoteTrade) with additional information such as HTTP status code, headers
    V1QuotesSymbolIdCurrentGetWithHttpInfo = function(symbol_id, data_file = NULL, ...) {
      args <- list(...)
      query_params <- list()
      header_params <- c()
      form_params <- list()
      file_params <- list()
      local_var_body <- NULL
      oauth_scopes <- NULL
      is_oauth <- FALSE

      if (missing(`symbol_id`)) {
        stop("Missing required parameter `symbol_id`.")
      }


      local_var_url_path <- "/v1/quotes/{symbol_id}/current"
      if (!missing(`symbol_id`)) {
        local_var_url_path <- gsub("\\{symbol_id\\}", URLencode(as.character(`symbol_id`), reserved = TRUE), local_var_url_path)
      }

      # API key authentication
      if ("X-CoinAPI-Key" %in% names(self$api_client$api_keys) && nchar(self$api_client$api_keys["X-CoinAPI-Key"]) > 0) {
        header_params["X-CoinAPI-Key"] <- paste(unlist(self$api_client$api_keys["X-CoinAPI-Key"]), collapse = "")
      }

      # The Accept request HTTP header
      local_var_accepts <- list("text/plain", "application/json", "text/json", "application/x-msgpack")

      # The Content-Type representation header
      local_var_content_types <- list()

      local_var_resp <- self$api_client$CallApi(url = paste0(self$api_client$base_path, local_var_url_path),
                                 method = "GET",
                                 query_params = query_params,
                                 header_params = header_params,
                                 form_params = form_params,
                                 file_params = file_params,
                                 accepts = local_var_accepts,
                                 content_types = local_var_content_types,
                                 body = local_var_body,
                                 is_oauth = is_oauth,
                                 oauth_scopes = oauth_scopes,
                                 ...)

      if (local_var_resp$status_code >= 200 && local_var_resp$status_code <= 299) {
        # save response in a file
        if (!is.null(data_file)) {
          self$api_client$WriteFile(local_var_resp, data_file)
        }

        deserialized_resp_obj <- tryCatch(
          self$api_client$DeserializeResponse(local_var_resp, "V1QuoteTrade"),
          error = function(e) {
            stop("Failed to deserialize response")
          }
        )
        local_var_resp$content <- deserialized_resp_obj
        return(local_var_resp)
      } 
      
      local_var_error_msg <- local_var_resp$response_as_text()      
      if (local_var_resp$status_code >= 300 && local_var_resp$status_code <= 399) {
        ApiResponse$new(paste("Server returned ", local_var_resp$status_code, " response status code."), local_var_resp)
      } else if (local_var_resp$status_code >= 400 && local_var_resp$status_code <= 499) {
        ApiResponse$new("API client error", local_var_resp)
      } else if (local_var_resp$status_code >= 500 && local_var_resp$status_code <= 599) {
        if (is.null(local_var_resp$response) || local_var_resp$response == "") {
          local_var_resp$response <- "API server error"
        }
        return(local_var_resp)
      }
    },

    #' @description
    #' Historical data
    #'
    #' @param symbol_id Symbol identifier for requested timeseries (from the Metadata -> Symbols)
    #' @param date (optional) Date in ISO 8601, returned data is for the whole given day (preferred method, required if 'time_start' is not provided)
    #' @param time_start (optional) Starting time in ISO 8601
    #' @param time_end (optional) Timeseries ending time in ISO 8601
    #' @param limit (optional) Amount of items to return (optional, minimum is 1, maximum is 100000, default value is 100, if the parameter is used then every 100 output items are counted as one request) (default value: 100)
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #'
    #' @return array[V1Quote]
    V1QuotesSymbolIdHistoryGet = function(symbol_id, date = NULL, time_start = NULL, time_end = NULL, limit = 100, data_file = NULL, ...) {
      local_var_response <- self$V1QuotesSymbolIdHistoryGetWithHttpInfo(symbol_id, date, time_start, time_end, limit, data_file = data_file, ...)
      if (local_var_response$status_code >= 200 && local_var_response$status_code <= 299) {
        return(local_var_response$content)
      } else if (local_var_response$status_code >= 300 && local_var_response$status_code <= 399) {
        return(local_var_response)
      } else if (local_var_response$status_code >= 400 && local_var_response$status_code <= 499) {
        return(local_var_response)
      } else if (local_var_response$status_code >= 500 && local_var_response$status_code <= 599) {
        return(local_var_response)
      }
    },

    #' @description
    #' Historical data
    #'
    #' @param symbol_id Symbol identifier for requested timeseries (from the Metadata -> Symbols)
    #' @param date (optional) Date in ISO 8601, returned data is for the whole given day (preferred method, required if 'time_start' is not provided)
    #' @param time_start (optional) Starting time in ISO 8601
    #' @param time_end (optional) Timeseries ending time in ISO 8601
    #' @param limit (optional) Amount of items to return (optional, minimum is 1, maximum is 100000, default value is 100, if the parameter is used then every 100 output items are counted as one request) (default value: 100)
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #'
    #' @return API response (array[V1Quote]) with additional information such as HTTP status code, headers
    V1QuotesSymbolIdHistoryGetWithHttpInfo = function(symbol_id, date = NULL, time_start = NULL, time_end = NULL, limit = 100, data_file = NULL, ...) {
      args <- list(...)
      query_params <- list()
      header_params <- c()
      form_params <- list()
      file_params <- list()
      local_var_body <- NULL
      oauth_scopes <- NULL
      is_oauth <- FALSE

      if (missing(`symbol_id`)) {
        stop("Missing required parameter `symbol_id`.")
      }






      query_params[["date"]] <- `date`

      query_params[["time_start"]] <- `time_start`

      query_params[["time_end"]] <- `time_end`

      query_params[["limit"]] <- `limit`

      local_var_url_path <- "/v1/quotes/{symbol_id}/history"
      if (!missing(`symbol_id`)) {
        local_var_url_path <- gsub("\\{symbol_id\\}", URLencode(as.character(`symbol_id`), reserved = TRUE), local_var_url_path)
      }

      # API key authentication
      if ("X-CoinAPI-Key" %in% names(self$api_client$api_keys) && nchar(self$api_client$api_keys["X-CoinAPI-Key"]) > 0) {
        header_params["X-CoinAPI-Key"] <- paste(unlist(self$api_client$api_keys["X-CoinAPI-Key"]), collapse = "")
      }

      # The Accept request HTTP header
      local_var_accepts <- list("text/plain", "application/json", "text/json", "application/x-msgpack")

      # The Content-Type representation header
      local_var_content_types <- list()

      local_var_resp <- self$api_client$CallApi(url = paste0(self$api_client$base_path, local_var_url_path),
                                 method = "GET",
                                 query_params = query_params,
                                 header_params = header_params,
                                 form_params = form_params,
                                 file_params = file_params,
                                 accepts = local_var_accepts,
                                 content_types = local_var_content_types,
                                 body = local_var_body,
                                 is_oauth = is_oauth,
                                 oauth_scopes = oauth_scopes,
                                 ...)

      if (local_var_resp$status_code >= 200 && local_var_resp$status_code <= 299) {
        # save response in a file
        if (!is.null(data_file)) {
          self$api_client$WriteFile(local_var_resp, data_file)
        }

        deserialized_resp_obj <- tryCatch(
          self$api_client$DeserializeResponse(local_var_resp, "array[V1Quote]"),
          error = function(e) {
            stop("Failed to deserialize response")
          }
        )
        local_var_resp$content <- deserialized_resp_obj
        return(local_var_resp)
      } 
      
      local_var_error_msg <- local_var_resp$response_as_text()      
      if (local_var_resp$status_code >= 300 && local_var_resp$status_code <= 399) {
        ApiResponse$new(paste("Server returned ", local_var_resp$status_code, " response status code."), local_var_resp)
      } else if (local_var_resp$status_code >= 400 && local_var_resp$status_code <= 499) {
        ApiResponse$new("API client error", local_var_resp)
      } else if (local_var_resp$status_code >= 500 && local_var_resp$status_code <= 599) {
        if (is.null(local_var_resp$response) || local_var_resp$response == "") {
          local_var_resp$response <- "API server error"
        }
        return(local_var_resp)
      }
    },

    #' @description
    #' Latest quote updates for a specific symbol
    #'
    #' @param symbol_id Symbol identifier of requested timeseries (from the Metadata -> Symbols)
    #' @param limit (optional) Amount of items to return (optional, mininum is 1, maximum is 100000, default value is 100, if the parameter is used then every 100 output items are counted as one request) (default value: 100)
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #'
    #' @return array[V1Quote]
    V1QuotesSymbolIdLatestGet = function(symbol_id, limit = 100, data_file = NULL, ...) {
      local_var_response <- self$V1QuotesSymbolIdLatestGetWithHttpInfo(symbol_id, limit, data_file = data_file, ...)
      if (local_var_response$status_code >= 200 && local_var_response$status_code <= 299) {
        return(local_var_response$content)
      } else if (local_var_response$status_code >= 300 && local_var_response$status_code <= 399) {
        return(local_var_response)
      } else if (local_var_response$status_code >= 400 && local_var_response$status_code <= 499) {
        return(local_var_response)
      } else if (local_var_response$status_code >= 500 && local_var_response$status_code <= 599) {
        return(local_var_response)
      }
    },

    #' @description
    #' Latest quote updates for a specific symbol
    #'
    #' @param symbol_id Symbol identifier of requested timeseries (from the Metadata -> Symbols)
    #' @param limit (optional) Amount of items to return (optional, mininum is 1, maximum is 100000, default value is 100, if the parameter is used then every 100 output items are counted as one request) (default value: 100)
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #'
    #' @return API response (array[V1Quote]) with additional information such as HTTP status code, headers
    V1QuotesSymbolIdLatestGetWithHttpInfo = function(symbol_id, limit = 100, data_file = NULL, ...) {
      args <- list(...)
      query_params <- list()
      header_params <- c()
      form_params <- list()
      file_params <- list()
      local_var_body <- NULL
      oauth_scopes <- NULL
      is_oauth <- FALSE

      if (missing(`symbol_id`)) {
        stop("Missing required parameter `symbol_id`.")
      }



      query_params[["limit"]] <- `limit`

      local_var_url_path <- "/v1/quotes/{symbol_id}/latest"
      if (!missing(`symbol_id`)) {
        local_var_url_path <- gsub("\\{symbol_id\\}", URLencode(as.character(`symbol_id`), reserved = TRUE), local_var_url_path)
      }

      # API key authentication
      if ("X-CoinAPI-Key" %in% names(self$api_client$api_keys) && nchar(self$api_client$api_keys["X-CoinAPI-Key"]) > 0) {
        header_params["X-CoinAPI-Key"] <- paste(unlist(self$api_client$api_keys["X-CoinAPI-Key"]), collapse = "")
      }

      # The Accept request HTTP header
      local_var_accepts <- list("text/plain", "application/json", "text/json", "application/x-msgpack")

      # The Content-Type representation header
      local_var_content_types <- list()

      local_var_resp <- self$api_client$CallApi(url = paste0(self$api_client$base_path, local_var_url_path),
                                 method = "GET",
                                 query_params = query_params,
                                 header_params = header_params,
                                 form_params = form_params,
                                 file_params = file_params,
                                 accepts = local_var_accepts,
                                 content_types = local_var_content_types,
                                 body = local_var_body,
                                 is_oauth = is_oauth,
                                 oauth_scopes = oauth_scopes,
                                 ...)

      if (local_var_resp$status_code >= 200 && local_var_resp$status_code <= 299) {
        # save response in a file
        if (!is.null(data_file)) {
          self$api_client$WriteFile(local_var_resp, data_file)
        }

        deserialized_resp_obj <- tryCatch(
          self$api_client$DeserializeResponse(local_var_resp, "array[V1Quote]"),
          error = function(e) {
            stop("Failed to deserialize response")
          }
        )
        local_var_resp$content <- deserialized_resp_obj
        return(local_var_resp)
      } 
      
      local_var_error_msg <- local_var_resp$response_as_text()      
      if (local_var_resp$status_code >= 300 && local_var_resp$status_code <= 399) {
        ApiResponse$new(paste("Server returned ", local_var_resp$status_code, " response status code."), local_var_resp)
      } else if (local_var_resp$status_code >= 400 && local_var_resp$status_code <= 499) {
        ApiResponse$new("API client error", local_var_resp)
      } else if (local_var_resp$status_code >= 500 && local_var_resp$status_code <= 599) {
        if (is.null(local_var_resp$response) || local_var_resp$response == "") {
          local_var_resp$response <- "API server error"
        }
        return(local_var_resp)
      }
    }
  )
)
