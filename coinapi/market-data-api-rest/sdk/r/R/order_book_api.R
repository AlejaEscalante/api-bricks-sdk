#' REST API
#'
#' No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)
#'
#' The version of the OpenAPI document: v1
#' Contact: support@apibricks.io
#' Generated by: https://openapi-generator.tech
#'
#' @docType class
#' @title OrderBook operations
#' @description OrderBookApi
#' @format An \code{R6Class} generator object
#' @field api_client Handles the client-server communication.
#'
#' @examples
#' \dontrun{
#' ####################  V1OrderbooksSymbolIdCurrentGet  ####################
#'
#' library(openapi)
#' var_symbol_id <- "symbol_id_example" # character | The symbol ID (from the Metadata -> Symbols)
#' var_limit_levels <- 56 # integer | The maximum number of levels to include in the response. (Optional)
#'
#' #Get current order book
#' api_instance <- OrderBookApi$new()
#'
#' # Configure API key authorization: ApiKey
#' api_instance$api_client$api_keys["X-CoinAPI-Key"] <- Sys.getenv("API_KEY")
#'
#' # to save the result into a file, simply add the optional `data_file` parameter, e.g.
#' # result <- api_instance$V1OrderbooksSymbolIdCurrentGet(var_symbol_id, limit_levels = var_limit_levelsdata_file = "result.txt")
#' result <- api_instance$V1OrderbooksSymbolIdCurrentGet(var_symbol_id, limit_levels = var_limit_levels)
#' dput(result)
#'
#'
#' ####################  V1OrderbooksSymbolIdDepthCurrentGet  ####################
#'
#' library(openapi)
#' var_symbol_id <- "symbol_id_example" # character | The symbol ID (from the Metadata -> Symbols)
#' var_limit_levels <- 56 # integer | The maximum number of levels to include in the response. (Optional)
#'
#' #Current depth of the order book
#' api_instance <- OrderBookApi$new()
#'
#' # Configure API key authorization: ApiKey
#' api_instance$api_client$api_keys["X-CoinAPI-Key"] <- Sys.getenv("API_KEY")
#'
#' # to save the result into a file, simply add the optional `data_file` parameter, e.g.
#' # result <- api_instance$V1OrderbooksSymbolIdDepthCurrentGet(var_symbol_id, limit_levels = var_limit_levelsdata_file = "result.txt")
#' result <- api_instance$V1OrderbooksSymbolIdDepthCurrentGet(var_symbol_id, limit_levels = var_limit_levels)
#' dput(result)
#'
#'
#' ####################  V1OrderbooksSymbolIdHistoryGet  ####################
#'
#' library(openapi)
#' var_symbol_id <- "symbol_id_example" # character | Symbol identifier for requested timeseries (from the Metadata -> Symbols)
#' var_date <- "date_example" # character | Date in ISO 8601, returned data is for the whole given day (preferred method, required if 'time_start' is not provided) (Optional)
#' var_time_start <- "time_start_example" # character | Starting time in ISO 8601 (deprecated, use 'date' instead) (Optional)
#' var_time_end <- "time_end_example" # character | Timeseries ending time in ISO 8601 (deprecated, use 'date' instead) (Optional)
#' var_limit <- 100 # integer | Amount of items to return (optional, minimum is 1, maximum is 100000, default value is 100, if the parameter is used then every 100 output items are counted as one request) (Optional)
#' var_limit_levels <- 56 # integer | Maximum amount of levels from each side of the book to include in response (optional) (Optional)
#'
#' #Historical data
#' api_instance <- OrderBookApi$new()
#'
#' # Configure API key authorization: ApiKey
#' api_instance$api_client$api_keys["X-CoinAPI-Key"] <- Sys.getenv("API_KEY")
#'
#' # to save the result into a file, simply add the optional `data_file` parameter, e.g.
#' # result <- api_instance$V1OrderbooksSymbolIdHistoryGet(var_symbol_id, date = var_date, time_start = var_time_start, time_end = var_time_end, limit = var_limit, limit_levels = var_limit_levelsdata_file = "result.txt")
#' result <- api_instance$V1OrderbooksSymbolIdHistoryGet(var_symbol_id, date = var_date, time_start = var_time_start, time_end = var_time_end, limit = var_limit, limit_levels = var_limit_levels)
#' dput(result)
#'
#'
#' ####################  V1OrderbooksSymbolIdLatestGet  ####################
#'
#' library(openapi)
#' var_symbol_id <- "symbol_id_example" # character | Symbol identifier of requested timeseries (from the Metadata -> Symbols)
#' var_limit <- 100 # integer | Amount of items to return (optional, mininum is 1, maximum is 100000, default value is 100, if the parameter is used then every 100 output items are counted as one request) (Optional)
#' var_limit_levels <- 56 # integer | Maximum amount of levels from each side of the book to include in response (optional) (Optional)
#'
#' #Latest data
#' api_instance <- OrderBookApi$new()
#'
#' # Configure API key authorization: ApiKey
#' api_instance$api_client$api_keys["X-CoinAPI-Key"] <- Sys.getenv("API_KEY")
#'
#' # to save the result into a file, simply add the optional `data_file` parameter, e.g.
#' # result <- api_instance$V1OrderbooksSymbolIdLatestGet(var_symbol_id, limit = var_limit, limit_levels = var_limit_levelsdata_file = "result.txt")
#' result <- api_instance$V1OrderbooksSymbolIdLatestGet(var_symbol_id, limit = var_limit, limit_levels = var_limit_levels)
#' dput(result)
#'
#'
#' }
#' @importFrom R6 R6Class
#' @importFrom base64enc base64encode
#' @export
OrderBookApi <- R6::R6Class(
  "OrderBookApi",
  public = list(
    api_client = NULL,

    #' @description
    #' Initialize a new OrderBookApi.
    #'
    #' @param api_client An instance of API client.
    initialize = function(api_client) {
      if (!missing(api_client)) {
        self$api_client <- api_client
      } else {
        self$api_client <- ApiClient$new()
      }
    },

    #' @description
    #' Get current order book
    #'
    #' @param symbol_id The symbol ID (from the Metadata -> Symbols)
    #' @param limit_levels (optional) The maximum number of levels to include in the response.
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #'
    #' @return V1OrderBookBase
    V1OrderbooksSymbolIdCurrentGet = function(symbol_id, limit_levels = NULL, data_file = NULL, ...) {
      local_var_response <- self$V1OrderbooksSymbolIdCurrentGetWithHttpInfo(symbol_id, limit_levels, data_file = data_file, ...)
      if (local_var_response$status_code >= 200 && local_var_response$status_code <= 299) {
        return(local_var_response$content)
      } else if (local_var_response$status_code >= 300 && local_var_response$status_code <= 399) {
        return(local_var_response)
      } else if (local_var_response$status_code >= 400 && local_var_response$status_code <= 499) {
        return(local_var_response)
      } else if (local_var_response$status_code >= 500 && local_var_response$status_code <= 599) {
        return(local_var_response)
      }
    },

    #' @description
    #' Get current order book
    #'
    #' @param symbol_id The symbol ID (from the Metadata -> Symbols)
    #' @param limit_levels (optional) The maximum number of levels to include in the response.
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #'
    #' @return API response (V1OrderBookBase) with additional information such as HTTP status code, headers
    V1OrderbooksSymbolIdCurrentGetWithHttpInfo = function(symbol_id, limit_levels = NULL, data_file = NULL, ...) {
      args <- list(...)
      query_params <- list()
      header_params <- c()
      form_params <- list()
      file_params <- list()
      local_var_body <- NULL
      oauth_scopes <- NULL
      is_oauth <- FALSE

      if (missing(`symbol_id`)) {
        stop("Missing required parameter `symbol_id`.")
      }



      query_params[["limit_levels"]] <- `limit_levels`

      local_var_url_path <- "/v1/orderbooks/{symbol_id}/current"
      if (!missing(`symbol_id`)) {
        local_var_url_path <- gsub("\\{symbol_id\\}", URLencode(as.character(`symbol_id`), reserved = TRUE), local_var_url_path)
      }

      # API key authentication
      if ("X-CoinAPI-Key" %in% names(self$api_client$api_keys) && nchar(self$api_client$api_keys["X-CoinAPI-Key"]) > 0) {
        header_params["X-CoinAPI-Key"] <- paste(unlist(self$api_client$api_keys["X-CoinAPI-Key"]), collapse = "")
      }

      # The Accept request HTTP header
      local_var_accepts <- list("text/plain", "application/json", "text/json", "application/x-msgpack")

      # The Content-Type representation header
      local_var_content_types <- list()

      local_var_resp <- self$api_client$CallApi(url = paste0(self$api_client$base_path, local_var_url_path),
                                 method = "GET",
                                 query_params = query_params,
                                 header_params = header_params,
                                 form_params = form_params,
                                 file_params = file_params,
                                 accepts = local_var_accepts,
                                 content_types = local_var_content_types,
                                 body = local_var_body,
                                 is_oauth = is_oauth,
                                 oauth_scopes = oauth_scopes,
                                 ...)

      if (local_var_resp$status_code >= 200 && local_var_resp$status_code <= 299) {
        # save response in a file
        if (!is.null(data_file)) {
          self$api_client$WriteFile(local_var_resp, data_file)
        }

        deserialized_resp_obj <- tryCatch(
          self$api_client$DeserializeResponse(local_var_resp, "V1OrderBookBase"),
          error = function(e) {
            stop("Failed to deserialize response")
          }
        )
        local_var_resp$content <- deserialized_resp_obj
        return(local_var_resp)
      } 
      
      local_var_error_msg <- local_var_resp$response_as_text()      
      if (local_var_resp$status_code >= 300 && local_var_resp$status_code <= 399) {
        ApiResponse$new(paste("Server returned ", local_var_resp$status_code, " response status code."), local_var_resp)
      } else if (local_var_resp$status_code >= 400 && local_var_resp$status_code <= 499) {
        ApiResponse$new("API client error", local_var_resp)
      } else if (local_var_resp$status_code >= 500 && local_var_resp$status_code <= 599) {
        if (is.null(local_var_resp$response) || local_var_resp$response == "") {
          local_var_resp$response <- "API server error"
        }
        return(local_var_resp)
      }
    },

    #' @description
    #' Current depth of the order book
    #'
    #' @param symbol_id The symbol ID (from the Metadata -> Symbols)
    #' @param limit_levels (optional) The maximum number of levels to include in the response.
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #'
    #' @return V1OrderBookDepth
    V1OrderbooksSymbolIdDepthCurrentGet = function(symbol_id, limit_levels = NULL, data_file = NULL, ...) {
      local_var_response <- self$V1OrderbooksSymbolIdDepthCurrentGetWithHttpInfo(symbol_id, limit_levels, data_file = data_file, ...)
      if (local_var_response$status_code >= 200 && local_var_response$status_code <= 299) {
        return(local_var_response$content)
      } else if (local_var_response$status_code >= 300 && local_var_response$status_code <= 399) {
        return(local_var_response)
      } else if (local_var_response$status_code >= 400 && local_var_response$status_code <= 499) {
        return(local_var_response)
      } else if (local_var_response$status_code >= 500 && local_var_response$status_code <= 599) {
        return(local_var_response)
      }
    },

    #' @description
    #' Current depth of the order book
    #'
    #' @param symbol_id The symbol ID (from the Metadata -> Symbols)
    #' @param limit_levels (optional) The maximum number of levels to include in the response.
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #'
    #' @return API response (V1OrderBookDepth) with additional information such as HTTP status code, headers
    V1OrderbooksSymbolIdDepthCurrentGetWithHttpInfo = function(symbol_id, limit_levels = NULL, data_file = NULL, ...) {
      args <- list(...)
      query_params <- list()
      header_params <- c()
      form_params <- list()
      file_params <- list()
      local_var_body <- NULL
      oauth_scopes <- NULL
      is_oauth <- FALSE

      if (missing(`symbol_id`)) {
        stop("Missing required parameter `symbol_id`.")
      }



      query_params[["limit_levels"]] <- `limit_levels`

      local_var_url_path <- "/v1/orderbooks/{symbol_id}/depth/current"
      if (!missing(`symbol_id`)) {
        local_var_url_path <- gsub("\\{symbol_id\\}", URLencode(as.character(`symbol_id`), reserved = TRUE), local_var_url_path)
      }

      # API key authentication
      if ("X-CoinAPI-Key" %in% names(self$api_client$api_keys) && nchar(self$api_client$api_keys["X-CoinAPI-Key"]) > 0) {
        header_params["X-CoinAPI-Key"] <- paste(unlist(self$api_client$api_keys["X-CoinAPI-Key"]), collapse = "")
      }

      # The Accept request HTTP header
      local_var_accepts <- list("text/plain", "application/json", "text/json", "application/x-msgpack")

      # The Content-Type representation header
      local_var_content_types <- list()

      local_var_resp <- self$api_client$CallApi(url = paste0(self$api_client$base_path, local_var_url_path),
                                 method = "GET",
                                 query_params = query_params,
                                 header_params = header_params,
                                 form_params = form_params,
                                 file_params = file_params,
                                 accepts = local_var_accepts,
                                 content_types = local_var_content_types,
                                 body = local_var_body,
                                 is_oauth = is_oauth,
                                 oauth_scopes = oauth_scopes,
                                 ...)

      if (local_var_resp$status_code >= 200 && local_var_resp$status_code <= 299) {
        # save response in a file
        if (!is.null(data_file)) {
          self$api_client$WriteFile(local_var_resp, data_file)
        }

        deserialized_resp_obj <- tryCatch(
          self$api_client$DeserializeResponse(local_var_resp, "V1OrderBookDepth"),
          error = function(e) {
            stop("Failed to deserialize response")
          }
        )
        local_var_resp$content <- deserialized_resp_obj
        return(local_var_resp)
      } 
      
      local_var_error_msg <- local_var_resp$response_as_text()      
      if (local_var_resp$status_code >= 300 && local_var_resp$status_code <= 399) {
        ApiResponse$new(paste("Server returned ", local_var_resp$status_code, " response status code."), local_var_resp)
      } else if (local_var_resp$status_code >= 400 && local_var_resp$status_code <= 499) {
        ApiResponse$new("API client error", local_var_resp)
      } else if (local_var_resp$status_code >= 500 && local_var_resp$status_code <= 599) {
        if (is.null(local_var_resp$response) || local_var_resp$response == "") {
          local_var_resp$response <- "API server error"
        }
        return(local_var_resp)
      }
    },

    #' @description
    #' Historical data
    #'
    #' @param symbol_id Symbol identifier for requested timeseries (from the Metadata -> Symbols)
    #' @param date (optional) Date in ISO 8601, returned data is for the whole given day (preferred method, required if 'time_start' is not provided)
    #' @param time_start (optional) Starting time in ISO 8601 (deprecated, use 'date' instead)
    #' @param time_end (optional) Timeseries ending time in ISO 8601 (deprecated, use 'date' instead)
    #' @param limit (optional) Amount of items to return (optional, minimum is 1, maximum is 100000, default value is 100, if the parameter is used then every 100 output items are counted as one request) (default value: 100)
    #' @param limit_levels (optional) Maximum amount of levels from each side of the book to include in response (optional)
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #'
    #' @return array[V1OrderBook]
    V1OrderbooksSymbolIdHistoryGet = function(symbol_id, date = NULL, time_start = NULL, time_end = NULL, limit = 100, limit_levels = NULL, data_file = NULL, ...) {
      local_var_response <- self$V1OrderbooksSymbolIdHistoryGetWithHttpInfo(symbol_id, date, time_start, time_end, limit, limit_levels, data_file = data_file, ...)
      if (local_var_response$status_code >= 200 && local_var_response$status_code <= 299) {
        return(local_var_response$content)
      } else if (local_var_response$status_code >= 300 && local_var_response$status_code <= 399) {
        return(local_var_response)
      } else if (local_var_response$status_code >= 400 && local_var_response$status_code <= 499) {
        return(local_var_response)
      } else if (local_var_response$status_code >= 500 && local_var_response$status_code <= 599) {
        return(local_var_response)
      }
    },

    #' @description
    #' Historical data
    #'
    #' @param symbol_id Symbol identifier for requested timeseries (from the Metadata -> Symbols)
    #' @param date (optional) Date in ISO 8601, returned data is for the whole given day (preferred method, required if 'time_start' is not provided)
    #' @param time_start (optional) Starting time in ISO 8601 (deprecated, use 'date' instead)
    #' @param time_end (optional) Timeseries ending time in ISO 8601 (deprecated, use 'date' instead)
    #' @param limit (optional) Amount of items to return (optional, minimum is 1, maximum is 100000, default value is 100, if the parameter is used then every 100 output items are counted as one request) (default value: 100)
    #' @param limit_levels (optional) Maximum amount of levels from each side of the book to include in response (optional)
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #'
    #' @return API response (array[V1OrderBook]) with additional information such as HTTP status code, headers
    V1OrderbooksSymbolIdHistoryGetWithHttpInfo = function(symbol_id, date = NULL, time_start = NULL, time_end = NULL, limit = 100, limit_levels = NULL, data_file = NULL, ...) {
      args <- list(...)
      query_params <- list()
      header_params <- c()
      form_params <- list()
      file_params <- list()
      local_var_body <- NULL
      oauth_scopes <- NULL
      is_oauth <- FALSE

      if (missing(`symbol_id`)) {
        stop("Missing required parameter `symbol_id`.")
      }







      query_params[["date"]] <- `date`

      query_params[["time_start"]] <- `time_start`

      query_params[["time_end"]] <- `time_end`

      query_params[["limit"]] <- `limit`

      query_params[["limit_levels"]] <- `limit_levels`

      local_var_url_path <- "/v1/orderbooks/{symbol_id}/history"
      if (!missing(`symbol_id`)) {
        local_var_url_path <- gsub("\\{symbol_id\\}", URLencode(as.character(`symbol_id`), reserved = TRUE), local_var_url_path)
      }

      # API key authentication
      if ("X-CoinAPI-Key" %in% names(self$api_client$api_keys) && nchar(self$api_client$api_keys["X-CoinAPI-Key"]) > 0) {
        header_params["X-CoinAPI-Key"] <- paste(unlist(self$api_client$api_keys["X-CoinAPI-Key"]), collapse = "")
      }

      # The Accept request HTTP header
      local_var_accepts <- list("text/plain", "application/json", "text/json", "application/x-msgpack")

      # The Content-Type representation header
      local_var_content_types <- list()

      local_var_resp <- self$api_client$CallApi(url = paste0(self$api_client$base_path, local_var_url_path),
                                 method = "GET",
                                 query_params = query_params,
                                 header_params = header_params,
                                 form_params = form_params,
                                 file_params = file_params,
                                 accepts = local_var_accepts,
                                 content_types = local_var_content_types,
                                 body = local_var_body,
                                 is_oauth = is_oauth,
                                 oauth_scopes = oauth_scopes,
                                 ...)

      if (local_var_resp$status_code >= 200 && local_var_resp$status_code <= 299) {
        # save response in a file
        if (!is.null(data_file)) {
          self$api_client$WriteFile(local_var_resp, data_file)
        }

        deserialized_resp_obj <- tryCatch(
          self$api_client$DeserializeResponse(local_var_resp, "array[V1OrderBook]"),
          error = function(e) {
            stop("Failed to deserialize response")
          }
        )
        local_var_resp$content <- deserialized_resp_obj
        return(local_var_resp)
      } 
      
      local_var_error_msg <- local_var_resp$response_as_text()      
      if (local_var_resp$status_code >= 300 && local_var_resp$status_code <= 399) {
        ApiResponse$new(paste("Server returned ", local_var_resp$status_code, " response status code."), local_var_resp)
      } else if (local_var_resp$status_code >= 400 && local_var_resp$status_code <= 499) {
        ApiResponse$new("API client error", local_var_resp)
      } else if (local_var_resp$status_code >= 500 && local_var_resp$status_code <= 599) {
        if (is.null(local_var_resp$response) || local_var_resp$response == "") {
          local_var_resp$response <- "API server error"
        }
        return(local_var_resp)
      }
    },

    #' @description
    #' Latest data
    #'
    #' @param symbol_id Symbol identifier of requested timeseries (from the Metadata -> Symbols)
    #' @param limit (optional) Amount of items to return (optional, mininum is 1, maximum is 100000, default value is 100, if the parameter is used then every 100 output items are counted as one request) (default value: 100)
    #' @param limit_levels (optional) Maximum amount of levels from each side of the book to include in response (optional)
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #'
    #' @return array[V1OrderBook]
    V1OrderbooksSymbolIdLatestGet = function(symbol_id, limit = 100, limit_levels = NULL, data_file = NULL, ...) {
      local_var_response <- self$V1OrderbooksSymbolIdLatestGetWithHttpInfo(symbol_id, limit, limit_levels, data_file = data_file, ...)
      if (local_var_response$status_code >= 200 && local_var_response$status_code <= 299) {
        return(local_var_response$content)
      } else if (local_var_response$status_code >= 300 && local_var_response$status_code <= 399) {
        return(local_var_response)
      } else if (local_var_response$status_code >= 400 && local_var_response$status_code <= 499) {
        return(local_var_response)
      } else if (local_var_response$status_code >= 500 && local_var_response$status_code <= 599) {
        return(local_var_response)
      }
    },

    #' @description
    #' Latest data
    #'
    #' @param symbol_id Symbol identifier of requested timeseries (from the Metadata -> Symbols)
    #' @param limit (optional) Amount of items to return (optional, mininum is 1, maximum is 100000, default value is 100, if the parameter is used then every 100 output items are counted as one request) (default value: 100)
    #' @param limit_levels (optional) Maximum amount of levels from each side of the book to include in response (optional)
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #'
    #' @return API response (array[V1OrderBook]) with additional information such as HTTP status code, headers
    V1OrderbooksSymbolIdLatestGetWithHttpInfo = function(symbol_id, limit = 100, limit_levels = NULL, data_file = NULL, ...) {
      args <- list(...)
      query_params <- list()
      header_params <- c()
      form_params <- list()
      file_params <- list()
      local_var_body <- NULL
      oauth_scopes <- NULL
      is_oauth <- FALSE

      if (missing(`symbol_id`)) {
        stop("Missing required parameter `symbol_id`.")
      }




      query_params[["limit"]] <- `limit`

      query_params[["limit_levels"]] <- `limit_levels`

      local_var_url_path <- "/v1/orderbooks/{symbol_id}/latest"
      if (!missing(`symbol_id`)) {
        local_var_url_path <- gsub("\\{symbol_id\\}", URLencode(as.character(`symbol_id`), reserved = TRUE), local_var_url_path)
      }

      # API key authentication
      if ("X-CoinAPI-Key" %in% names(self$api_client$api_keys) && nchar(self$api_client$api_keys["X-CoinAPI-Key"]) > 0) {
        header_params["X-CoinAPI-Key"] <- paste(unlist(self$api_client$api_keys["X-CoinAPI-Key"]), collapse = "")
      }

      # The Accept request HTTP header
      local_var_accepts <- list("text/plain", "application/json", "text/json", "application/x-msgpack")

      # The Content-Type representation header
      local_var_content_types <- list()

      local_var_resp <- self$api_client$CallApi(url = paste0(self$api_client$base_path, local_var_url_path),
                                 method = "GET",
                                 query_params = query_params,
                                 header_params = header_params,
                                 form_params = form_params,
                                 file_params = file_params,
                                 accepts = local_var_accepts,
                                 content_types = local_var_content_types,
                                 body = local_var_body,
                                 is_oauth = is_oauth,
                                 oauth_scopes = oauth_scopes,
                                 ...)

      if (local_var_resp$status_code >= 200 && local_var_resp$status_code <= 299) {
        # save response in a file
        if (!is.null(data_file)) {
          self$api_client$WriteFile(local_var_resp, data_file)
        }

        deserialized_resp_obj <- tryCatch(
          self$api_client$DeserializeResponse(local_var_resp, "array[V1OrderBook]"),
          error = function(e) {
            stop("Failed to deserialize response")
          }
        )
        local_var_resp$content <- deserialized_resp_obj
        return(local_var_resp)
      } 
      
      local_var_error_msg <- local_var_resp$response_as_text()      
      if (local_var_resp$status_code >= 300 && local_var_resp$status_code <= 399) {
        ApiResponse$new(paste("Server returned ", local_var_resp$status_code, " response status code."), local_var_resp)
      } else if (local_var_resp$status_code >= 400 && local_var_resp$status_code <= 499) {
        ApiResponse$new("API client error", local_var_resp)
      } else if (local_var_resp$status_code >= 500 && local_var_resp$status_code <= 599) {
        if (is.null(local_var_resp$response) || local_var_resp$response == "") {
          local_var_resp$response <- "API server error"
        }
        return(local_var_resp)
      }
    }
  )
)
